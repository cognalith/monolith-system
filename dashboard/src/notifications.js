/**
 *  * MONOLITH OS - Notifications Service
 *  * Phase 6.2: External Integrations
  * 
   * Task 6.2.1: Slack webhook integration
    * Task 6.2.2: Email notifications for CRITICAL tasks
     */

     // Slack Webhook Configuration
     const SLACK_WEBHOOK_URL = process.env.SLACK_WEBHOOK_URL;

     // Email Configuration (using SendGrid or similar)
     const EMAIL_API_KEY = process.env.EMAIL_API_KEY;
     const EMAIL_FROM = process.env.EMAIL_FROM || 'monolith@cognalith.com';
     const EMAIL_TO = process.env.EMAIL_TO || 'admin@cognalith.com';

     /**
      * Send notification to Slack channel
       * @param {Object} payload - The message payload
        * @param {string} payload.title - Message title
         * @param {string} payload.message - Message content
          * @param {string} payload.priority - Task priority (CRITICAL, HIGH, MEDIUM, LOW)
           * @param {string} payload.role - Assigned role
            */
            export async function sendSlackNotification({ title, message, priority, role }) {
              if (!SLACK_WEBHOOK_URL) {
                  console.log('[Slack] Webhook URL not configured, skipping notification');
                      return { success: false, reason: 'SLACK_WEBHOOK_URL not configured' };
                        }

                          const priorityEmoji = {
                              CRITICAL: 'ðŸš¨',
                                  HIGH: 'ðŸ”´',
                                      MEDIUM: 'ðŸŸ¡',
                                          LOW: 'ðŸŸ¢'
                                            };

                                              const slackPayload = {
                                                  blocks: [
                                                        {
                                                                type: 'header',
                                                                        text: {
                                                                                  type: 'plain_text',
                                                                                            text: `${priorityEmoji[priority] || 'ðŸ“‹'} ${title}`,
                                                                                                      emoji: true
                                                                                                              }
                                                                                                                    },
                                                                                                                          {
                                                                                                                                  type: 'section',
                                                                                                                                          fields: [
                                                                                                                                                    {
                                                                                                                                                                type: 'mrkdwn',
                                                                                                                                                                            text: `*Priority:*\n${priority}`
                                                                                                                                                                                      },
                                                                                                                                                                                                {
                                                                                                                                                                                                            type: 'mrkdwn',
                                                                                                                                                                                                                        text: `*Assigned Role:*\n${role}`
                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                          ]
                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                              type: 'section',
                                                                                                                                                                                                                                                                      text: {
                                                                                                                                                                                                                                                                                type: 'mrkdwn',
                                                                                                                                                                                                                                                                                          text: message
                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                      type: 'context',
                                                                                                                                                                                                                                                                                                                              elements: [
                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                    type: 'mrkdwn',
                                                                                                                                                                                                                                                                                                                                                                text: `Sent from *MONOLITH OS* at ${new Date().toISOString()}`
                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                  ]
                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                            ]
                                                                                                                                                                                                                                                                                                                                                                                              };

                                                                                                                                                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                                                                                                                                                    const response = await fetch(SLACK_WEBHOOK_URL, {
                                                                                                                                                                                                                                                                                                                                                                                                          method: 'POST',
                                                                                                                                                                                                                                                                                                                                                                                                                headers: {
                                                                                                                                                                                                                                                                                                                                                                                                                        'Content-Type': 'application/json',
                                                                                                                                                                                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                                                                                                                                                                                    body: JSON.stringify(slackPayload),
                                                                                                                                                                                                                                                                                                                                                                                                                                        });

                                                                                                                                                                                                                                                                                                                                                                                                                                            if (response.ok) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                  console.log('[Slack] Notification sent successfully');
                                                                                                                                                                                                                                                                                                                                                                                                                                                        return { success: true };
                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  console.error('[Slack] Failed to send notification:', response.status);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        return { success: false, reason: `HTTP ${response.status}` };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              } catch (error) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  console.error('[Slack] Error sending notification:', error.message);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      return { success: false, reason: error.message };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         * Send email notification for CRITICAL tasks
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Using SendGrid API (or similar email service)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * @param {Object} payload - The email payload
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @param {string} payload.subject - Email subject
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * @param {string} payload.body - Email body (HTML supported)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              * @param {string} payload.priority - Task priority
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @param {string} payload.role - Assigned role
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                export async function sendEmailNotification({ subject, body, priority, role }) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!EMAIL_API_KEY) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      console.log('[Email] API Key not configured, skipping notification');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return { success: false, reason: 'EMAIL_API_KEY not configured' };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              // Only send emails for CRITICAL priority tasks
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (priority !== 'CRITICAL') {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    console.log(`[Email] Skipping email for ${priority} priority task (only CRITICAL tasks trigger emails)`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        return { success: false, reason: 'Only CRITICAL priority tasks trigger emails' };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const emailPayload = {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                personalizations: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              to: [{ email: EMAIL_TO }],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      subject: `ðŸš¨ CRITICAL: ${subject}`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    from: { email: EMAIL_FROM, name: 'MONOLITH OS' },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        content: [
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      type: 'text/html',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              value: `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div style="background-color: #dc2626; color: white; padding: 20px; text-align: center;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <h1 style="margin: 0;">ðŸš¨ CRITICAL TASK ALERT</h1>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style="padding: 20px; background-color: #1f2937; color: #e5e7eb;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <h2 style="color: #10b981;">${subject}</h2>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <p><strong>Priority:</strong> ${priority}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <p><strong>Assigned Role:</strong> ${role}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div style="background-color: #374151; padding: 15px; border-radius: 8px; margin-top: 15px;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ${body}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <p style="color: #9ca3af; font-size: 12px; margin-top: 20px;">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Sent from MONOLITH OS at ${new Date().toISOString()}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ]
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      };

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        try {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            // SendGrid API endpoint
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const response = await fetch('https://api.sendgrid.com/v3/mail/send', {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      method: 'POST',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            headers: {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    'Authorization': `Bearer ${EMAIL_API_KEY}`,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            'Content-Type': 'application/json',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        body: JSON.stringify(emailPayload),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (response.ok || response.status === 202) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      console.log('[Email] Notification sent successfully');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            return { success: true };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      const errorText = await response.text();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.error('[Email] Failed to send notification:', response.status, errorText);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  return { success: false, reason: `HTTP ${response.status}` };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } catch (error) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.error('[Email] Error sending notification:', error.message);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return { success: false, reason: error.message };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Send notifications through all configured channels
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * @param {Object} task - The task object
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     export async function notifyNewTask(task) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       const { content, priority, assigned_role } = task;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           const results = {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               slack: null,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   email: null
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     };

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // Send Slack notification for all tasks
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         results.slack = await sendSlackNotification({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             title: 'New Task Created',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 message: content,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     priority: priority,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         role: assigned_role
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // Send email only for CRITICAL tasks
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               if (priority === 'CRITICAL') {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   results.email = await sendEmailNotification({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         subject: content,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               body: `<p>A new CRITICAL task has been assigned to <strong>${assigned_role}</strong>.</p><p>${content}</p>`,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     priority: priority,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           role: assigned_role
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   return results;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    * Notify when a task is completed
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * @param {Object} task - The completed task object
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      export async function notifyTaskCompleted(task) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const { content, priority, assigned_role } = task;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return await sendSlackNotification({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              title: 'Task Completed âœ…',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  message: content,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      priority: priority,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          role: assigned_role
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * Notify decision made
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              * @param {Object} decision - The decision object
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               export async function notifyDecision(decision) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 const { role, action } = decision;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   return await sendSlackNotification({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       title: 'Decision Recorded',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           message: action,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               priority: 'MEDIUM',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   role: role
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     export default {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       sendSlackNotification,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         sendEmailNotification,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           notifyNewTask,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             notifyTaskCompleted,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               notifyDecision
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               };